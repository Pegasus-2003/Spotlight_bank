<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Dashboard</title>
    <link href="assets/img/favicon-32x32.png" rel="icon">
    <link href="assets/img/apple-icon-180x180.png" rel="apple-touch-icon">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/vendor/boxicons/css/boxicons.css">
    <link rel="stylesheet" href="assets/vendor/boxicons/css/boxicons.min.css">
    <link rel="stylesheet" href="assets/vendor/boxicons/css/animations.css">
    <link rel="stylesheet" href="assets/vendor/boxicons/css/transformations.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Roboto:wght@300;400;500;700;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="assets/css/UserDash.css">
    <link rel="stylesheet" href="assets/css/cards.css">
    <style>
        @media only screen and (min-width:992px) {
            #credit {
                display: block;
                box-sizing: border-box;
                height: 181px;
                width: 363px;
            }
        }
    </style>

</head>

<body>
    <div id="wrapper ribbon ribbon-top-right">
        <div class="overlay"></div>
        <nav class="fixed-top align-top" id="sidebar-wrapper" role="navigation">
            <div class="simplebar-content" style="padding: 0px;">
                <a class="sidebar-brand" href="index.html">
                    <span class="align-middle">Spotlight Bank </span>
                </a>
                <ul class="navbar-nav align-self-stretch">
                    <li class="menuHover">
                        <a href="Dashboard.html" id="Dashboard" class="nav-link text-left " role="button"
                            aria-haspopup="true" aria-expanded="false">
                            <i class="flaticon-bar-chart-1"></i><i class="bx bxs-dashboard ico"></i> Dashboard
                        </a>
                    </li>
                    <li class="menuHover">
                        <a href="transfer.html" id="Transfer" class="nav-link text-left" role="button">
                            <i class="flaticon-bar-chart-1"></i><i class="bx bx-transfer ico"></i> Transfer
                        </a>
                    </li>
                    <li class="menuHover">
                        <a href="t_history.html" id="TransactionHistory" class="nav-link text-left" role="button">
                            <i class="flaticon-bar-chart-1"></i> <i class="bx bx-history ico"></i> Transaction History
                        </a>
                    </li>

                    <li class="menuHover">
                        <a href="cards.html" id="Cards" class="nav-link text-left" role="button">
                            <i class="flaticon-bar-chart-1"></i> <i class="bx bxs-credit-card ico"></i>Cards
                        </a>
                    </li>
                    <li class="menuHover">
                        <a class="nav-link text-left" role="button" href="login.html">
                            <i class="flaticon-map"></i><i class="bx bx-log-out ico"></i> Logout
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        <div id="page-content-wrapper">
            <div id="content">
                <div class="container-fluid p-0 px-lg-0 px-md-0">
                    <nav class="navbar navbar-expand navbar-light my-navbar">
                        <div type="button" id="bar" class="nav-icon1 hamburger animated fadeInLeft is-closed"
                            data-toggle="offcanvas">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        <form class="d-none d-sm-inline-block form-inline navbar-search">
                            <div class="input-group">
                                <h1 id="bankBrand" style="font-size: 24px; color:blue" class="mt-2">Spotlight Bank</h1>
                            </div>
                        </form>
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item dropdown  d-sm-none">

                                <div class="dropdown-menu dropdown-menu-right p-3">
                                    <form class="form-inline mr-auto w-100 navbar-search">
                                        <div class="input-group">
                                            <input type="text" class="form-control bg-light border-0 small"
                                                placeholder="Search for...">
                                            <div class="input-group-append">
                                                <button class="btn btn-primary" type="button">
                                                    <i class="fas fa-search fa-sm"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                                    data-toggle="dropdown">
                                    <span class="mr-2 d-none d-lg-inline text-gray-600 small">Spotlight Bank</span>
                                    <img id="HeaderProfile" hidden class="img-profile rounded-circle">
                                </a>
                            </li>
                        </ul>
                    </nav>
                    <div class=" begin container-fluid px-lg-4">
                        <div class="row">
                            <div class="col-md-12 mt-4">
                                <div class="d-sm-flex align-items-center justify-content-between mb-4">
                                    <h1 class="h3 mb-0 text-gray-800">Cards</h1>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-sm-6">
                                <div class="card">
                                    <div class="d-flex justify-content-center">
                                        <div class="noProfile" id="ProfileTag">
                                            <h2 class="nameTag" id="NameTag"></h2>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <h1 class="text-center">Your Debit Card</h1>
                                        <div class="flip-card">
                                            <div class="flip-card-inner">
                                                <div class="flip-card-front">
                                                    <div class="row mt-4 mb-4 d-flex justify-content-center">
                                                        <div id="debitCard-col" class="col-sm-8 mt-4 ">
                                                            <div class="card dcard-back">
                                                                <div class="card-body">
                                                                    <div class="d-flex justify-content-between">
                                                                        <h5 class="text-light">
                                                                            Spotlight Bank
                                                                        </h5>
                                                                        <h5 class="text-light visa">Visa</h5>
                                                                    </div>

                                                                    <div
                                                                        class="mt-2 mb-2  d-flex justify-content-start">
                                                                        <img src="assets/img/gold-card-chip.png" alt="">
                                                                    </div>

                                                                    <div class=" d-flex justify-content-start">
                                                                        <h5 id="cardnumber" class="text-light">
                                                                            * cardno *
                                                                        </h5>
                                                                    </div>

                                                                    <div class="d-flex justify-content-between mt-3">
                                                                        <h6 class="text-light" id="cardname1"
                                                                            style="font-family: 'Courier New', Courier, monospace;">
                                                                            * name *
                                                                        </h6>
                                                                        <h6 class="text-light" id="expirydate1"
                                                                            style="font-family: 'Courier New', Courier, monospace;">
                                                                            * expiry date *
                                                                        </h6>

                                                                    </div>

                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>


                                                <div class="flip-card-back">
                                                    <div id="debitCard-col" class="col-sm-8 mt-4 ">
                                                        <div id="OnCardToggle" class="card dcard-back">
                                                            <div class="card-body" style="padding: 0px;">

                                                                <div style="padding-top: 10px;">
                                                                    <p class="text-light dback-tittle">for customer
                                                                        service call +1234567890</p>
                                                                </div>

                                                                <div class="strip">
                                                                </div>

                                                                <div>
                                                                    <div class="strip2">
                                                                        <p id="cvv1"
                                                                            style="text-align: end; color:black; padding:4px">
                                                                            * cvv *
                                                                        </p>
                                                                    </div>

                                                                    <p class="description">This card issued by
                                                                        Spotlight Bank, Bank pursuant to a
                                                                        license from Visa India,
                                                                        Inc. Use ofthis card is subject to the
                                                                        agreement, as amended, This card isthe property
                                                                        ofthe issuer and must
                                                                        be returned upon request and may be revoked
                                                                        without notice.
                                                                    </p>

                                                                </div>


                                                                <div class=" d-flex justify-content-start">
                                                                    <h4 id="NewDebitNo" class="text-light"
                                                                        style="font-family: 'Courier New', Courier, monospace;">
                                                                    </h4>
                                                                </div>

                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                    </div>


                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h1 class="text-center mb-4 ">Your Debit Card Details</h1>

                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <p>Account Number</p>
                                                <p>Debit Card Number</p>
                                                <p>Name</p>
                                                <p>CVV Number</p>
                                                <p>Issued Date</p>
                                                <p>Expiry Date</p>
                                                <p>Card Status</p>
                                    
                                            </div>

                                            <div>
                                                <p>:</p>
                                                <p>:</p>
                                                <p>:</p>
                                                <p>:</p>
                                                <p>:</p>
                                                <p>:</p>
                                                <p>:</p>
                                            </div>

                                            <div>
                                                <p id="accountnumber1">
                                                    ig
                                                </p>
                                                <p id="cardnumber2">
                                                    id="cardnumber2"
                                                </p>
                                                <p id="cardname2">
                                                    * name *
                                                </p>
                                                <p id="cvv2">
                                                    * cvv *
                                                </p>
                                                <p id="issuedate2">
                                                    * issue date *
                                                </p>
                                                <p id="expirydate2">
                                                    * expiry date *
                                                </p>
                                                <p id="status">
                                                    * status *
                                                </p>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>


            </div>
            <footer class="footer">

                <div class="container-fluid">
                    <div class="row text-muted">
                        <div class="col-6 text-left">
                            <p class="mb-0">
                                <a href="index.html" class="text-muted"><strong>Spotlight Bank
                                    </strong></a> &copy
                            </p>
                        </div>
                        <div class="col-6 text-right">
                            <ul class="list-inline">
                                <li class="footer-item">
                                    <a class="text-muted" href="privacypolicy.html">Privacy</a>
                                </li>
                                <li class="footer-item">
                                    <a class="text-muted" href="terms.html">Terms</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>

        </div>
    </div>
    </div>



    </div>
    <script>
        const emailid = localStorage.getItem("emailid");
        var resultobj;
        const dashboard = async () => {
            console.log(emailid);
            let options = {
                method: "POST",
                mode: 'cors',
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    email: emailid
                }),
            }
            let p = await fetch('http://localhost:8080/user/dashboard', options)
            let response = await p.json()
            resultobj = response;
            var first = resultobj[0].cardNumber.substring(0,4);
            var second = resultobj[0].cardNumber.substring(4,8);
            var third = resultobj[0].cardNumber.substring(8,12);
            var fourth = resultobj[0].cardNumber.substring(12,16);
            var hiphen = first + "-" + second +"-" + third +"-"+fourth;

            document.getElementById("cardnumber").innerHTML = hiphen;
            document.getElementById("cardname1").innerHTML = resultobj[0].cardName;
            document.getElementById("expirydate1").innerHTML = resultobj[0].expiryDate.substring(0, 10);
            document.getElementById("cvv1").innerHTML = resultobj[0].cvv;
            document.getElementById("cvv2").innerHTML = resultobj[0].cvv;
            document.getElementById("accountnumber1").innerHTML = resultobj[0].accountNumber;
            document.getElementById("cardname2").innerHTML = resultobj[0].cardName;
            document.getElementById("cardnumber2").innerHTML = hiphen;
            document.getElementById("expirydate2").innerHTML = resultobj[0].expiryDate.substring(0, 10);
            document.getElementById("issuedate2").innerHTML = resultobj[0].issuedDate.substring(0, 10);
            document.getElementById("status").innerHTML = resultobj[0].cardStatus;
            statusCode = p.status;
            return response
        }
        async function test() {
            let result = await dashboard();
            return result;
        }
        test();


    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>



    <script>
        $('#bar').click(function () {
            $(this).toggleClass('open');
            $('#page-content-wrapper ,#sidebar-wrapper').toggleClass('toggled');

        });
    </script>



</body>

</html>